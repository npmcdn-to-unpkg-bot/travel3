<modal-dialog image-url="modalImageUrl" show='modalShown' width='850px' height='60%'>                            
</modal-dialog>
<div class="profilepage-wrap">
    <div class="header no-margin">
        <div class="row">
            <div class="col-md-4 col-sm-12">
                <div>
                    <img class="profilepic img-rounded"  ng-src="{{userObj.facebook_profile.picture.data.url}}" alt="profilepicture">
                </div>
            </div>
        <div class="col-md-8 col-sm-12">
            <p>{{userObj.facebook_profile.name}}</p>
        </div>
        </div>
        <div class="headertwo">
            <div class="row">
                <div class= "col-md-2 col-md-offset-4">
                    <a href="" data-toggle="tab" class="active" ng-click="updateprofileTabPos(0)"><i class="fa fa-map-o"> Trips</i></a>
                </div>
                <div class= "col-md-2">
                    <a href="" data-toggle="tab" ng-click="updateprofileTabPos(1)"><i class="fa fa-map-marker"> Places</i></a>
                </div>
                <div class= "col-md-2">
                    <a href="" data-toggle="tab" ng-click="updateprofileTabPos(2)"><i class="fa fa-picture-o"> Photos</i></a>
                </div>
                <div class= "col-md-2" id="shareanewexperience">
                <a ng-show="isMyProfile"href="#/account/postTrip">Share a new experience</a>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="tab-content">
                <div class="tab-pane fade in active" id="trips" ng-show="profileTabPos == 0">
                    <div class="col-sm-6 col-md-4" ng-repeat="trip in myTrips | filter:query">
                        <div class="thumbnail">
                          <a ng-href="#/account/timeline/{{trip.id}}">
                              <img ng-src="{{trip.cropped_image_url}}" alt="thumbnail1" >
                          </a>
                          <div class="caption">
                            <a ng-href="#/account/timeline/{{trip.id}}">
                                <span class="pull-left trip_name">{{trip.title}}</span>
                            </a>
                            <span class="pull-right trip_date">{{trip.visited_places[0].date | date:"dd/MM/yyyy"}}</span>
                            <br>
                            <span class="pull-left"><a ng-href="#/account/profile/{{trip.user.id}}"><img ng-src="{{trip.user.facebook_profile.picture.data.url}}" alt="profile_pic" class="avatar img-circle"></a></span>
                            <span class="user_name_thumbnail"><a ng-href="#/account/profile/{{trip.user.id}}">{{trip.username}}</a></span>
                            <span class="pull-right stats_thumbnail">{{trip.total_likes}}</span>
                            <span class="pull-right"><em class="fa fa-heart Like_icon_thumbnail"></em></span>
        
                            <!--<span class="pull-right stats_thumbnail">19</span>-->
                            <span class="pull-right"><em class="fa fa-comments Like_icon_thumbnail"></em></span>        
                           </div>
                        </div>
                    </div>
                </div>
                <div ng-show="profileTabPos == 1" class="">
            <div class="">
                <ui-gmap-google-map center='map.center' zoom='map.zoom' options="options">
                    <ui-gmap-markers models="allMarkers" coords="'self'" icon="'icon'"  options="marker.options" click="onClick()" events="marker.events">
                    </ui-gmap-markers>
                 </ui-gmap-google-map>
            </div>
        </div>
                <script src="../js/imagesloaded.pkgd.min.js"></script>
                <script src="../js/masonry.pkgd.min.js"></script>
                <div class="tab-pane fade" id="photos" ng-show="profileTabPos == 2">
                    <div class="grid " data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 160 }'>
                      <div class="grid-item"></div>
                      <div class="grid-item grid-item--width2 grid-item--height2"></div>
                      <div class="grid-item grid-item--height3"></div>
                      <div class="grid-item grid-item--height2"></div>
                      <div class="grid-item grid-item--width3"></div>
                      <div class="grid-item"></div>
                      <div class="grid-item"></div>
                      <div class="grid-item grid-item--height2"></div>
                      <div class="grid-item grid-item--width2 grid-item--height3"></div>
                      <div class="grid-item"></div>
                      <div class="grid-item grid-item--height2"></div>
                      <div class="grid-item"></div>
                      <div class="grid-item grid-item--width2 grid-item--height2"></div>
                      <div class="grid-item grid-item--width2"></div>
                      <div class="grid-item"></div>
                      <div class="grid-item grid-item--height2"></div>
                      <div class="grid-item"></div>
                      <div class="grid-item"></div>
                      <div class="grid-item grid-item--height3"></div>
                      <div class="grid-item grid-item--height2"></div>
                      <div class="grid-item"></div>
                      <div class="grid-item"></div>
                      <div class="grid-item grid-item--height2"></div>
                      </div> 
                </div>
            </div>
        </div>
    </div>
</div>



<div ng-show="myTrips" class="content-wrap">
    <div class="site-content container">        
        <div ng-show="profileTabPos == 2" class="photos-grid row">
        <div ng-repeat="trip in myTrips">
            <div class="photos-header column span-12">
		        <h2 class="photos-title title"><a href="">{{trip.title}}</a></h2>
		        <div class="photos-details clearfix">
			        <div class="photos-detail"><span class="fa fa-calendar"></span> {{trip.visited_places[0].date | date:"dd/MM/yyyy"}}</div>
			        <div class="photos-detail">
				        <span class="fa fa-map-marker"></span>
				        <a href="">{{trip.visited_places[0].location}}</a> 
                    </div>
		        </div>
	        </div>
                <div class="column span-4" ng-repeat="place in trip.visited_places">
                    <div  ng-repeat="placeImage in place.images">
                        <div class="photo-preview image element-image loaded">
	                        <a ng-href="" ng-click="toggleModal(getCroppedTripImageUrl(placeImage.image_url,'upload/c_fill,h_562,w_850/'))" class="element-colorbox cboxElement" data-id="photos" data-title="">
		                        <img ng-src="{{getCroppedTripImageUrl(placeImage.image_url,'upload/c_fill,h_400,w_500/')}}" class="fullwidth" alt="" style="display: block;">
		                    </a>
                        </div>
	                </div>
                </div>
            </div>
        </div>
    </div>
</div>